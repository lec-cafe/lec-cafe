## 詳細画面を作る

詳細画面は、先程設定したURLに合わせて `pages/post.vue` から `pages/posts/_id/index.vue` にリネームします。

```vue
<template>
  <div>
    <!-- Page Header -->
    <header class="masthead" style="background-image: url('img/post-bg.jpg')" v-if="post">
      <div class="overlay"></div>
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-md-10 mx-auto">
            <div class="post-heading">
              <h1>{{post.title}}</h1>
              <span class="meta">Posted by
              <a href="#">{{post.author.name}}</a>
              on {{date}}</span>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- Post Content -->
    <article v-if="post">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-md-10 mx-auto" v-html="post.content"/>
        </div>
      </div>
    </article>
  </div>
</template>

<script>
  import dayjs from "dayjs"

  export default {
    data(){
      return {
        post: null
      }
    },
    computed: {
      id(){
        return this.$route.params.id
      },
      date(){
        const date = new Date(this.post.date)
        return dayjs(this.post.date).format("MMMM-DD, YYYY")
      }
    },
    async mounted() {
      const {data} = await this.$axios.get(`sites/nuxtjsblog.wordpress.com/posts/${this.id}`)
      this.post = data
    }
  }
</script>

<style>
</style>
```

axiosに関して
```axios
async mounted() {
      const {data} = await this.$axios.get(`sites/nuxtjsblog.wordpress.com/posts/${this.id}`)
      this.post = data
    }
```
axiosが取得しようとしているURLの末尾が `${this.id}` になっている点に気を付けてください。


```vue
<script>
  export default {
    // ..
    computed: {
      id(){
        return this.$route.params.id
      },
      // ...
    },
    // ...
  }
</script>

```
computedのid()はルート`pages/posts/_id/index.vue`の　`_id`の部分に表示する記事のIDを返します。


```vue
<script>
  export default {
    // ..
    computed: {
      // ...
      date(){
        const date = new Date(this.post.date)
        return dayjs(this.post.date).format("MMMM-DD, YYYY")
      }
    },
    // ...
  }
</script>

```
一覧ページと同様にdayjsを使用して記事の投稿日を返します。
またdayjsの記述箇所がmethodsではなくcomputedになっていることに注意してください。

> methodsとcomputedの違い　
  'methods'オプションは''computed'オプションとほとんど同じ意味ですが、以下の相違点があります。
  1,'method'オプションは引数を持つことができる。
  2,値がキャッシュされない。（値が保存されないため読み込み後でも値の変更が可能）
  'methods'の主な役割はデータの取得や、要素の操作や更新です。


### 関連ページ

- v-html,v-if  
https://jp.vuejs.org/v2/guide/syntax.html 





